library(sf)
library(tidyverse)

# Reading vectorial data  -------------------------------------------------

children <- read_sf('chlidren05.gpkg')
elderly <- read_sf('elderly60.gpkg')
health <- read_sf('HealthFacilities.gpkg')
transport <- read_sf('Transporte.gpkg')
water <- read_sf('water_index.gpkg')

layers <- list(children,elderly,health,transport,water)
names_capas <- c("children","elderly","health","transport","water")

# Normalization -----------------------------------------------------------
normalization <- function(x){
  index <- (x - min(x))/((max(x)- min(x)))
  return(index)
}

for(i in 1:length(layers)){
  data <- layers[[i]]
  data %>% 
    mutate(index = normalization(data[,10][[1]])) -> data_index
  
  write_sf(data_index,paste0('Normalization/',names_capas[i],'.gpkg'))
}



  































